-- Load Venyx UI (source2.lua)
local Venyx = loadstring(game:HttpGet("https://raw.githubusercontent.com/Stefanuk12/Venyx-UI-Library/main/source2.lua"))()
local UI = Venyx.new({
    title = "Bit Scripts âš¡ Universal Vehicle Speed"
})

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- Pages & Sections
local speedPage = UI:addPage({ title = "Speed Boost", icon = 5012544693 })
local brakePage = UI:addPage({ title = "Brake Multiplier", icon = 5012544693 })
local miscPage = UI:addPage({ title = "Misc", icon = 5012544693 })

local speedSection = speedPage:addSection({ title = "Acceleration Boost" })
local brakeSection = brakePage:addSection({ title = "Braking Control" })
local flySection = miscPage:addSection({ title = "Car Fly" })
local uiSection = miscPage:addSection({ title = "UI Settings" })

-- Speed Boost
local velocityMult = 0.025
local boostKey = Enum.KeyCode.W

speedSection:addSlider({
    title = "Boost Multiplier (x1000)",
    min = 0,
    max = 50,
    default = 25,
    callback = function(v)
        velocityMult = v / 1000
    end
})

speedSection:addKeybind({
    title = "Boost Key",
    key = boostKey,
    callback = function()
        while UserInputService:IsKeyDown(boostKey) do
            task.wait()
            local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            local seat = humanoid and humanoid.SeatPart
            if seat and seat:IsA("VehicleSeat") then
                seat.AssemblyLinearVelocity *= Vector3.new(1 + velocityMult, 1, 1 + velocityMult)
            end
        end
    end,
    changedCallback = function(k)
        boostKey = k
    end
})

-- Brake Multiplier
local brakeMult = 0.15
local brakeKey = Enum.KeyCode.S

brakeSection:addSlider({
    title = "Brake Force (x1000)",
    min = 0,
    max = 300,
    default = 150,
    callback = function(v)
        brakeMult = v / 1000
    end
})

brakeSection:addKeybind({
    title = "Brake Key",
    key = brakeKey,
    callback = function()
        while UserInputService:IsKeyDown(brakeKey) do
            task.wait()
            local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
            local seat = humanoid and humanoid.SeatPart
            if seat and seat:IsA("VehicleSeat") then
                seat.AssemblyLinearVelocity *= Vector3.new(1 - brakeMult, 1, 1 - brakeMult)
            end
        end
    end,
    changedCallback = function(k)
        brakeKey = k
    end
})

brakeSection:addKeybind({
    title = "Stop Vehicle (P)",
    key = Enum.KeyCode.P,
    callback = function()
        local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        local seat = humanoid and humanoid.SeatPart
        if seat and seat:IsA("VehicleSeat") then
            seat.AssemblyLinearVelocity = Vector3.zero
            seat.AssemblyAngularVelocity = Vector3.zero
        end
    end
})

-- Car Fly
local carFlyEnabled = false
local carFlySpeed = 1

flySection:addToggle({
    title = "Enable Car Fly",
    callback = function(v)
        carFlyEnabled = v
    end
})

flySection:addSlider({
    title = "Fly Speed",
    min = 0,
    max = 800,
    default = 100,
    callback = function(v)
        carFlySpeed = v / 100
    end
})

RunService.Stepped:Connect(function()
    if not carFlyEnabled then return end

    local char = LocalPlayer.Character
    local humanoid = char and char:FindFirstChildOfClass("Humanoid")
    local seat = humanoid and humanoid.SeatPart
    if seat and seat:IsA("VehicleSeat") then
        local vehicle = seat:FindFirstAncestorWhichIsA("Model")
        if vehicle then
            if not vehicle.PrimaryPart then
                vehicle.PrimaryPart = seat
            end

            local cam = workspace.CurrentCamera
            local moveVec = Vector3.zero

            if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveVec += cam.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveVec -= cam.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveVec -= cam.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveVec += cam.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveVec += Vector3.new(0, 1, 0) end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then moveVec -= Vector3.new(0, 1, 0) end

            local dir = moveVec.Magnitude > 0 and moveVec.Unit or Vector3.zero
            seat.AssemblyLinearVelocity = dir * (carFlySpeed * 100)
            seat.AssemblyAngularVelocity = Vector3.zero
        end
    end
end)

-- UI Toggle Keybind (Left Control)
uiSection:addKeybind({
    title = "Toggle UI",
    key = Enum.KeyCode.LeftControl,
    callback = function()
        UI:toggle()
    end
})

-- UI Accent Color Picker
uiSection:addColorPicker({
    title = "UI Accent Color",
    default = Color3.fromRGB(255, 0, 0),
    callback = function(color)
        UI:setTheme({
            theme = "Accent",
            color3 = color
        })
    end
})

-- Load UI (optional)
UI:SelectPage({ page = UI.pages[1], toggle = true })

-- Optional notification
UI:Notify({
    title = "Bit Vehicle Hub",
    text = "Press LeftControl to toggle UI"
})
